# Ansible
Различные варианты плейбуков и ролей

## /roles/

Создержит роли различные роли, которые вызываются плейбуками из корня
- плейбук use-roles.yml - вызов mariadb, nginx, php-fpm, wordpress
- плейбук use-roles-elk.yml - установка ELK-стека на centos

### ansible-vault

Зашифрованное хранилище. Используется для шифрования всего плейбука, либо указываемых в нём паролей.
Использование:
```
ansible-vault encrypt_string
```
1. Ввести пароль хранилища
2. Ввести пароль, который необходимо зашифровать
3. Не нажимая enter прекратить ввод ctrl+d

Полученный код вставляется в плейбук начиная с ```!vault |```
Для запуска такого плейбука нужно использовать комманду:
```
ansible-playbook <playbook.yml> --ask-vault-pass
```
После чего вводится указанный ранее пароль на хранилище.

Возможно создать отдельный файл хранилища:
```
ansible-vault create <my-vault>
```
Для его изменения и чтения используются комманды:
```
ansible-vault edit <my-vault>
ansible-vault read <my-vault>
```
